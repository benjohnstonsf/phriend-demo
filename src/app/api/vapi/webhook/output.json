ğŸµ Received 200 audio chunks, latest size: 3840 bytes, total: 764248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:25:57.249Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:25:57.249Z'
}
ğŸ’¬ Conversation update: { messageCount: 2, timestamp: '2025-06-09T03:25:57.249Z' }
ğŸ“ Added assistant message to transcript: Hi there. I'm here to listen. Something told me you needed to make this call today.
 POST /api/vapi/webhook 200 in 25ms
ğŸµ Received 300 audio chunks, latest size: 3840 bytes, total: 1148248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:25:59.109Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:25:59.109Z'
}
ğŸ’¬ Conversation update: { messageCount: 2, timestamp: '2025-06-09T03:25:59.109Z' }
ğŸ“ Added assistant message to transcript: Hi there. I'm here to listen. Something told me you needed to make this call today. What's your name
 POST /api/vapi/webhook 200 in 18ms
ğŸµ Received 400 audio chunks, latest size: 3840 bytes, total: 1532248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:01.304Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:01.305Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:01.305Z'
}
 POST /api/vapi/webhook 200 in 19ms
ğŸµ Received 500 audio chunks, latest size: 3840 bytes, total: 1916248 bytes
ğŸµ Audio progress: 500 chunks, 1916248 bytes 
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:01.409Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:01.409Z'
}
ğŸ’¬ Conversation update: { messageCount: 2, timestamp: '2025-06-09T03:26:01.409Z' }
ğŸ“ Added assistant message to transcript: Hi there. I'm here to listen. Something told me you needed to make this call today. What's your name
ğŸ“Š Transcript progress: 5 messages collected for Future Self
 POST /api/vapi/webhook 200 in 18ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:03.341Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:03.342Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:03.342Z'
}
 POST /api/vapi/webhook 200 in 17ms
ğŸµ Received 600 audio chunks, latest size: 3840 bytes, total: 2300248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:05.286Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:05.286Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:05.286Z'
}
 POST /api/vapi/webhook 200 in 17ms
ğŸµ Received 700 audio chunks, latest size: 3840 bytes, total: 2684248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:05.782Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:05.782Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:05.782Z'
}
 POST /api/vapi/webhook 200 in 26ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:06.323Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:06.323Z'
}
ğŸ’¬ Conversation update: { messageCount: 3, timestamp: '2025-06-09T03:26:06.323Z' }
ğŸ“ Added user message to transcript: My name is Curly, and I've been
ğŸ‘¤ Captured user name from conversation: Curly
 POST /api/vapi/webhook 200 in 17ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:06.472Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:06.473Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:06.473Z'
}
 POST /api/vapi/webhook 200 in 24ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:07.253Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:07.254Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:07.254Z'
}
 POST /api/vapi/webhook 200 in 20ms
ğŸµ Received 800 audio chunks, latest size: 3840 bytes, total: 3068248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:08.063Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:08.063Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:08.063Z'
}
 POST /api/vapi/webhook 200 in 17ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:09.053Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:09.053Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:09.053Z'
}
 POST /api/vapi/webhook 200 in 20ms
ğŸµ Received 900 audio chunks, latest size: 3840 bytes, total: 3452248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:10.205Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:10.205Z'
}
ğŸ’¬ Conversation update: { messageCount: 3, timestamp: '2025-06-09T03:26:10.205Z' }
ğŸ“ Added user message to transcript: My name is Curly, and I've been absolutely terrified of things going wrong in my life.
ğŸ“‹ Captured problem description from conversation 
 POST /api/vapi/webhook 200 in 15ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:10.321Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:10.321Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:10.321Z'
}
 POST /api/vapi/webhook 200 in 16ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:10.844Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:10.844Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:10.844Z'
}
 POST /api/vapi/webhook 200 in 18ms
ğŸµ Received 1000 audio chunks, latest size: 3840 bytes, total: 3836248 bytes
ğŸµ Audio progress: 1000 chunks, 3836248 bytes 
ğŸµ Received 1100 audio chunks, latest size: 3840 bytes, total: 4220248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:14.630Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:14.631Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:14.631Z'
}
 POST /api/vapi/webhook 200 in 21ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:14.985Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:14.985Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:14.985Z'
}
 POST /api/vapi/webhook 200 in 19ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:15.191Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:15.191Z'
}
ğŸ’¬ Conversation update: { messageCount: 3, timestamp: '2025-06-09T03:26:15.191Z' }
ğŸ“ Added user message to transcript: My name is Curly, and I've been absolutely terrified of things going wrong in my life. Ever since I 
 POST /api/vapi/webhook 200 in 30ms
ğŸµ Received 1200 audio chunks, latest size: 3840 bytes, total: 4604248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:16.547Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:16.547Z'
}
ğŸ’¬ Conversation update: { messageCount: 3, timestamp: '2025-06-09T03:26:16.547Z' }
ğŸ“ Added user message to transcript: My name is Curly, and I've been absolutely terrified of things going wrong in my life. Ever since I 
 POST /api/vapi/webhook 200 in 18ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:16.686Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:16.686Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:16.686Z'
}
 POST /api/vapi/webhook 200 in 21ms
ğŸµ Received 1300 audio chunks, latest size: 3840 bytes, total: 4988248 bytes
ğŸµ Received 1400 audio chunks, latest size: 3840 bytes, total: 5372248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:19.968Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:19.969Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'started',
  timestamp: '2025-06-09T03:26:19.969Z'
}
 POST /api/vapi/webhook 200 in 19ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:20.072Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:20.073Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:20.073Z'
}
 POST /api/vapi/webhook 200 in 24ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:20.083Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:20.083Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'started',
  timestamp: '2025-06-09T03:26:20.083Z'
}
 POST /api/vapi/webhook 200 in 25ms
â° 30 seconds elapsed - checking if Future Self needs to be created...
ğŸ”„ Creating Future Self with fallback (voice clone may not be ready)...
ğŸ­ Creating Future Self assistant...
ğŸ“Š Session state: voiceClone=false, transcripts=9
âš ï¸ Voice clone not ready yet, waiting for completion...
ğŸµ Received 1500 audio chunks, latest size: 3840 bytes, total: 5756248 bytes
ğŸµ Audio progress: 1500 chunks, 5756248 bytes 
ğŸ­ 30 seconds of audio captured! Triggering real-time voice cloning...
ğŸ™ï¸ Starting real-time voice cloning...
ğŸ“¦ Extracted user audio: 1920000 bytes from 1000 chunks
ğŸµ Using detected sample rate: 48000Hz
ğŸ­ Real-time voice cloning triggered!
ğŸ“Š Audio stats: 1000 chunks, 1920000 bytes, 30s
ğŸ“¤ Sending audio to real-time cloning API...
ğŸ­ Starting real-time voice cloning with PlayHT...
ğŸ”‘ Environment check:
  - NODE_ENV: development
  - User ID exists: true
  - Secret key exists: true
  - User ID preview: SoA1fGJz...
ğŸ­ Starting real-time voice cloning for call fc4b1428-3b49-40cd-923a-edc38a6d9b34...
ğŸ“Š Audio blob size: 1920044 bytes
ğŸ“Š Audio blob type: audio/wav
ğŸ’¾ Saving backup audio file locally...
âœ… Backup audio file saved to: /Users/benjaminjohnston/workspace/phriend-demo/audio_exports/voice_fc4b1428-3b49-40cd-923a-edc38a6d9b34_User_1749439581525.wav
ğŸ“¤ Sending audio to PlayHT for instant cloning...
ğŸ”§ FormData prepared with: {
  voice_name: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  fileName: 'voice_fc4b1428-3b49-40cd-923a-edc38a6d9b34_User_1749439581525.wav',
  audioSize: 1920044,
  audioType: 'audio/wav'
}
ğŸŒ Making request to PlayHT...
ğŸŒ URL: https://api.play.ht/api/v2/cloned-voices/instant
â° Setting 60-second timeout for fetch request...
ğŸ” Request details:
  URL: https://api.play.ht/api/v2/cloned-voices/instant
  Headers: {
  'X-USER-ID': 'SoA1fGJzuFYisSSi9nhcg0hE6GG3',
  AUTHORIZATION: 'ak-3b88527...',
  accept: 'application/json'
}
  FormData entries: [
  [ 'voice_name', 'fc4b1428-3b49-40cd-923a-edc38a6d9b34' ],
  [
    'sample_file',
    'File(voice_fc4b1428-3b49-40cd-923a-edc38a6d9b34_User_1749439581525.wav, 1920044b, audio/wav)'
  ]
]
â³ Sending request now...
ğŸš Using curl subprocess (axios and fetch both hang indefinitely)...
ğŸš Executing curl command...
ğŸ“‹ Command preview: curl --request POST --url https://api.play.ht/api/v2/cloned-voices/instant --header 'AUTHORIZATION: ak-3b88527...' --header 'X-USER-ID: SoA1fGJzuFYisSSi9nhcg0hE6GG3' --header 'accept: application/json' --form 'sample_file=@/Users/benjaminjohnston/workspace/phriend-demo/audio_exports/voice_fc4b1428-3b49-40cd-923a-edc38a6d9b34_User_1749439581525.wav;type=audio/wav' --form 'voice_name=fc4b1428-3b49-40cd-923a-edc38a6d9b34' --max-time 60
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:23.134Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:23.134Z'
}
ğŸ’¬ Conversation update: { messageCount: 4, timestamp: '2025-06-09T03:26:23.134Z' }
ğŸ“ Added assistant message to transcript: Curly. What a beautiful name.
ğŸ“Š Transcript progress: 10 messages collected for Future Self
 POST /api/vapi/webhook 200 in 23ms
ğŸµ Received 1600 audio chunks, latest size: 3840 bytes, total: 6140248 bytes
ğŸµ Received 1700 audio chunks, latest size: 3840 bytes, total: 6524248 bytes
ğŸ‰ Curl subprocess completed successfully!
âš¡ PlayHT request completed in 4049ms (4s)
âš ï¸ Curl stderr:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 -- 64 1875k    0     0   64 1215k      0  1500k  0100 1875k    0     0  100 1875k      0   847k  0100 1875k    0     0  100 1875k      0   583k  0100 1875k  100   215  100 1875k     53   467k  0100 1875k  100   215  100 1875k     53   466k  0:00:04  0:00:04 --:--:--  466k

ğŸ‰ Curl stdout: {"id":"s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json","name":"fc4b1428-3b49-40cd-923a-edc38a6d9b34","type":"instant","voice_engine":"PlayHT2.0"}
ğŸ‰ PlayHT Response Data: {
  "id": "s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json",
  "name": "fc4b1428-3b49-40cd-923a-edc38a6d9b34",
  "type": "instant",
  "voice_engine": "PlayHT2.0"
}
âœ… Real-time voice clone created successfully: s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json
 POST /api/playht/clone-voice-realtime 200 in 4180ms
âœ… Real-time voice cloning completed: s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json
ğŸ­ Voice clone ready! Creating Future Self assistant immediately...
ğŸ­ Creating Future Self assistant...
ğŸ“Š Session state: voiceClone=true, transcripts=10
ğŸ”® Creating Future Self assistant with: {
  sessionId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  voiceId: 's3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json',
  transcriptCount: 10,
  userName: 'Curly'
}
ğŸ­ Attempting to use cloned PlayHT voice: s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json
ğŸ­ Creating Future Self assistant with config: {
  name: 'Future Self - Curly',
  voiceProvider: 'playht',
  voiceId: 's3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json',
  transcriptLength: 10,
  promptLength: 3364
}
âŒ Vapi API error: 400 {"message":"Voice s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json not found for provider playht","error":"Bad Request","statusCode":400}
âŒ Failed to create Future Self assistant: Error: Vapi API error: 400 Bad Request
    at createFutureSelfAssistant (src/app/lib/vapiHelpers.ts:137:12)
    at async createFutureSelfForSession (src/app/api/vapi/webhook/route.ts:450:24)
    at async triggerFutureSelfCreation (src/app/api/vapi/webhook/route.ts:425:4)
    at async VapiAudioCapture.<anonymous> (src/app/api/vapi/webhook/route.ts:304:16)
  135 |       }
  136 |       
> 137 |       throw new Error(`Vapi API error: ${response.status} ${response.statusText}`);
      |            ^
  138 |     }
  139 |
  140 |     const assistantData = await response.json();
âŒ Failed to create Future Self assistant: Error: Vapi API error: 400 Bad Request
    at createFutureSelfAssistant (src/app/lib/vapiHelpers.ts:137:12)
    at async createFutureSelfForSession (src/app/api/vapi/webhook/route.ts:450:24)
    at async triggerFutureSelfCreation (src/app/api/vapi/webhook/route.ts:425:4)
    at async VapiAudioCapture.<anonymous> (src/app/api/vapi/webhook/route.ts:304:16)
  135 |       }
  136 |       
> 137 |       throw new Error(`Vapi API error: ${response.status} ${response.statusText}`);
      |            ^
  138 |     }
  139 |
  140 |     const assistantData = await response.json();
ğŸ”„ Call state updated for fc4b1428-3b49-40cd-923a-edc38a6d9b34: interruption_delivered
âœ… Voice clone now ready, proceeding with Future Self creation...
ğŸ”® Creating Future Self assistant with: {
  sessionId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  voiceId: 's3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json',
  transcriptCount: 10,
  userName: 'Curly'
}
ğŸ­ Attempting to use cloned PlayHT voice: s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json
ğŸ­ Creating Future Self assistant with config: {
  name: 'Future Self - Curly',
  voiceProvider: 'playht',
  voiceId: 's3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json',
  transcriptLength: 10,
  promptLength: 3364
}
âŒ Vapi API error: 400 {"message":"Voice s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json not found for provider playht","error":"Bad Request","statusCode":400}
âŒ Failed to create Future Self assistant: Error: Vapi API error: 400 Bad Request
    at createFutureSelfAssistant (src/app/lib/vapiHelpers.ts:137:12)
    at async createFutureSelfForSession (src/app/api/vapi/webhook/route.ts:450:24)
    at async Timeout.<anonymous> (src/app/api/vapi/webhook/route.ts:411:10)
  135 |       }
  136 |       
> 137 |       throw new Error(`Vapi API error: ${response.status} ${response.statusText}`);
      |            ^
  138 |     }
  139 |
  140 |     const assistantData = await response.json();
âŒ Failed to create Future Self assistant: Error: Vapi API error: 400 Bad Request
    at createFutureSelfAssistant (src/app/lib/vapiHelpers.ts:137:12)
    at async createFutureSelfForSession (src/app/api/vapi/webhook/route.ts:450:24)
    at async Timeout.<anonymous> (src/app/api/vapi/webhook/route.ts:411:10)
  135 |       }
  136 |       
> 137 |       throw new Error(`Vapi API error: ${response.status} ${response.statusText}`);
      |            ^
  138 |     }
  139 |
  140 |     const assistantData = await response.json();
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:26.715Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:26.715Z'
}
ğŸ’¬ Conversation update: { messageCount: 4, timestamp: '2025-06-09T03:26:26.716Z' }
ğŸ“ Added assistant message to transcript: Curly. What a beautiful name. I can feel you've been carrying something heavy for a long time.
 POST /api/vapi/webhook 200 in 20ms
ğŸµ Received 1800 audio chunks, latest size: 3840 bytes, total: 6908248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:29.138Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:29.138Z'
}
ğŸ’¬ Conversation update: { messageCount: 4, timestamp: '2025-06-09T03:26:29.138Z' }
ğŸ“ Added assistant message to transcript: Curly. What a beautiful name. I can feel you've been carrying something heavy for a long time. Like 
 POST /api/vapi/webhook 200 in 18ms
ğŸµ Received 1900 audio chunks, latest size: 3840 bytes, total: 7292248 bytes
ğŸ”„ Call state updated for fc4b1428-3b49-40cd-923a-edc38a6d9b34: ready_for_future_call
ğŸµ Received 2000 audio chunks, latest size: 3840 bytes, total: 7676248 bytes
ğŸµ Audio progress: 2000 chunks, 7676248 bytes 
ğŸµ Received 2100 audio chunks, latest size: 3840 bytes, total: 8060248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:34.101Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:34.102Z'
}
ğŸ’¬ Conversation update: { messageCount: 4, timestamp: '2025-06-09T03:26:34.102Z' }
ğŸ“ Added assistant message to transcript: Curly. What a beautiful name. I can feel you've been carrying something heavy for a long time. Like 
 POST /api/vapi/webhook 200 in 15ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:34.580Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:34.580Z'
}
ğŸ’¬ Conversation update: { messageCount: 4, timestamp: '2025-06-09T03:26:34.580Z' }
ğŸ“ Added assistant message to transcript: Curly. What a beautiful name. I can feel you've been carrying something heavy for a long time. Like 
 POST /api/vapi/webhook 200 in 16ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:34.674Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:34.675Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:34.675Z'
}
 POST /api/vapi/webhook 200 in 16ms
ğŸµ Received 2200 audio chunks, latest size: 3840 bytes, total: 8444248 bytes
ğŸµ Received 2300 audio chunks, latest size: 3840 bytes, total: 8828248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:39.014Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:39.014Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:39.015Z'
}
 POST /api/vapi/webhook 200 in 23ms
ğŸµ Received 2400 audio chunks, latest size: 3840 bytes, total: 9212248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:39.908Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:39.909Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:39.909Z'
}
 POST /api/vapi/webhook 200 in 17ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:40.315Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:40.315Z'
}
ğŸ’¬ Conversation update: { messageCount: 5, timestamp: '2025-06-09T03:26:40.315Z' }
ğŸ“ Added user message to transcript: Things like
ğŸ“Š Transcript progress: 15 messages collected for Future Self
 POST /api/vapi/webhook 200 in 18ms
ğŸµ Received 2500 audio chunks, latest size: 3840 bytes, total: 9596248 bytes
ğŸµ Audio progress: 2500 chunks, 9596248 bytes 
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:41.983Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:41.985Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:41.985Z'
}
 POST /api/vapi/webhook 200 in 59ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:43.179Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:43.179Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:43.179Z'
}
 POST /api/vapi/webhook 200 in 30ms
ğŸµ Received 2600 audio chunks, latest size: 3840 bytes, total: 9980248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:44.588Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:44.589Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:44.589Z'
}
 POST /api/vapi/webhook 200 in 40ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:45.351Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:45.351Z'
}
ğŸ’¬ Conversation update: { messageCount: 5, timestamp: '2025-06-09T03:26:45.351Z' }
ğŸ“ Added user message to transcript: Things like using curl instead of node j s.
 POST /api/vapi/webhook 200 in 37ms
ğŸµ Received 2700 audio chunks, latest size: 3840 bytes, total: 10364248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:45.482Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:45.482Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:45.482Z'
}
 POST /api/vapi/webhook 200 in 32ms
ğŸ”„ Call state updated for fc4b1428-3b49-40cd-923a-edc38a6d9b34: preparing_interruption
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:46.715Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:46.716Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'started',
  timestamp: '2025-06-09T03:26:46.716Z'
}
 POST /api/vapi/webhook 200 in 39ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:46.797Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:46.797Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:46.797Z'
}
 POST /api/vapi/webhook 200 in 21ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:46.845Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:46.845Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'started',
  timestamp: '2025-06-09T03:26:46.845Z'
}
 POST /api/vapi/webhook 200 in 15ms
ğŸµ Received 2800 audio chunks, latest size: 3840 bytes, total: 10748248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:47.675Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:47.676Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'started',
  timestamp: '2025-06-09T03:26:47.676Z'
}
 POST /api/vapi/webhook 200 in 27ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:47.679Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: user-interrupted
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'user-interrupted',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:47.679Z'
}
âš¡ User interrupted! (Potential emotional moment) { timestamp: '2025-06-09T03:26:47.679Z' }
 POST /api/vapi/webhook 200 in 29ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:47.707Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:47.708Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:47.708Z'
}
 POST /api/vapi/webhook 200 in 14ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:48.028Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:48.028Z'
}
ğŸ’¬ Conversation update: { messageCount: 6, timestamp: '2025-06-09T03:26:48.028Z' }
ğŸ“ Added assistant message to transcript: I hear
 POST /api/vapi/webhook 200 in 22ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:48.203Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:48.203Z'
}
ğŸ’¬ Conversation update: { messageCount: 7, timestamp: '2025-06-09T03:26:48.203Z' }
ğŸ“ Added user message to transcript: I'm worried.
 POST /api/vapi/webhook 200 in 45ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:48.279Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:48.280Z'
}
ğŸ¤ Speech update: {
  role: 'user',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:48.280Z'
}
 POST /api/vapi/webhook 200 in 21ms
ğŸµ Received 2900 audio chunks, latest size: 3840 bytes, total: 11132248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:51.114Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:51.115Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'started',
  timestamp: '2025-06-09T03:26:51.115Z'
}
 POST /api/vapi/webhook 200 in 38ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:51.169Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:51.169Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'stopped',
  timestamp: '2025-06-09T03:26:51.169Z'
}
 POST /api/vapi/webhook 200 in 21ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:51.243Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: speech-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'speech-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:51.243Z'
}
ğŸ¤ Speech update: {
  role: 'assistant',
  status: 'started',
  timestamp: '2025-06-09T03:26:51.243Z'
}
 POST /api/vapi/webhook 200 in 38ms
ğŸµ Received 3000 audio chunks, latest size: 3840 bytes, total: 11516248 bytes
ğŸµ Audio progress: 3000 chunks, 11516248 bytes 
ğŸµ Received 3100 audio chunks, latest size: 3840 bytes, total: 11900248 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:53.744Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: conversation-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'conversation-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:53.744Z'
}
ğŸ’¬ Conversation update: { messageCount: 8, timestamp: '2025-06-09T03:26:53.744Z' }
ğŸ“ Added assistant message to transcript: I hear the worry in your voice curly.
 POST /api/vapi/webhook 200 in 27ms
ğŸµ Received 3200 audio chunks, latest size: 3840 bytes, total: 12284248 bytes
ğŸ”´ WebSocket closed. Code: 1005, Reason: 
ğŸ“Š Final stats: 3280 chunks, 12591448 bytes
ğŸ”´ Audio capture ended: {
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  chunks: 3280,
  bytes: 12591448
}
ğŸ”„ Attempting reconnection 1/3 in 1000ms...
ğŸ§ Connecting to WebSocket for call fc4b1428-3b49-40cd-923a-edc38a6d9b34...
âœ… WebSocket connected!
ğŸ”— WebSocket connection established successfully 
ğŸ“¦ Skipping small chunk (likely metadata): 88 bytes
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:26:59.673Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: status-update
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'status-update',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:26:59.674Z'
}
ğŸ“Š Status update: ended
 POST /api/vapi/webhook 200 in 32ms
ğŸ”¥ WEBHOOK RECEIVED: 2025-06-09T03:27:01.866Z
ğŸ”¥ Raw payload keys: [ 'message' ]
ğŸ”¥ Extracted event type: end-of-call-report
ğŸ”¥ NODE_ENV: development
ğŸ”¥ isDevelopment: true
ğŸ¯ Vapi Webhook Event: {
  type: 'end-of-call-report',
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  timestamp: '2025-06-09T03:27:01.868Z'
}
ğŸ”´ Call ended! (end-of-call-report) 
ğŸ“ Call ended { callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34' }
ğŸ§¹ Cleaning up audio capture for call: fc4b1428-3b49-40cd-923a-edc38a6d9b34
âœ… Audio capture cleaned up successfully 
ğŸ”´ Call ended, final session state: {
  sessionId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  transcriptCount: 19,
  userName: 'Curly',
  voiceCloneCompleted: true,
  futureSelfCreated: false,
  assistantId: undefined
}
ğŸ­ Call ended - attempting final Future Self creation...
ğŸ”® Creating Future Self assistant with: {
  sessionId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  voiceId: 's3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json',
  transcriptCount: 19,
  userName: 'Curly'
}
ğŸ­ Attempting to use cloned PlayHT voice: s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json
ğŸ­ Creating Future Self assistant with config: {
  name: 'Future Self - Curly',
  voiceProvider: 'playht',
  voiceId: 's3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json',
  transcriptLength: 19,
  promptLength: 4266
}
ğŸ”´ WebSocket closed. Code: 1000, Reason: Normal closure
ğŸ“Š Final stats: 3281 chunks, 12591536 bytes
ğŸ”´ Audio capture ended: {
  callId: 'fc4b1428-3b49-40cd-923a-edc38a6d9b34',
  chunks: 3281,
  bytes: 12591536
}
âŒ Vapi API error: 400 {"message":"Voice s3://voice-cloning-zero-shot/d633fd1b-57ae-42eb-812b-9d87e847ed25/fc4b1428-3b49-40cd-923a-edc38a6d9b34/manifest.json not found for provider playht","error":"Bad Request","statusCode":400}
âŒ Failed to create Future Self assistant: Error: Vapi API error: 400 Bad Request
    at createFutureSelfAssistant (src/app/lib/vapiHelpers.ts:137:12)
    at async createFutureSelfForSession (src/app/api/vapi/webhook/route.ts:450:24)
    at async handleCallEnded (src/app/api/vapi/webhook/route.ts:616:4)
    at async POST (src/app/api/vapi/webhook/route.ts:172:18)
  135 |       }
  136 |       
> 137 |       throw new Error(`Vapi API error: ${response.status} ${response.statusText}`);
      |            ^
  138 |     }
  139 |
  140 |     const assistantData = await response.json();
âŒ Failed to create Future Self assistant: Error: Vapi API error: 400 Bad Request
    at createFutureSelfAssistant (src/app/lib/vapiHelpers.ts:137:12)
    at async createFutureSelfForSession (src/app/api/vapi/webhook/route.ts:450:24)
    at async handleCallEnded (src/app/api/vapi/webhook/route.ts:616:4)
    at async POST (src/app/api/vapi/webhook/route.ts:172:18)
  135 |       }
  136 |       
> 137 |       throw new Error(`Vapi API error: ${response.status} ${response.statusText}`);
      |            ^
  138 |     }
  139 |
  140 |     const assistantData = await response.json();
 POST /api/vapi/webhook 200 in 310ms
